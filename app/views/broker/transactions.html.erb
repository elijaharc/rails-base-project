<div class="container">
 <div class="row">
   <div class="col p-5">
    <h1 class="text-primary">Broker Transactions</h1>

    <% if @transactions.empty? %>
        <p>None of your stocks have been purchased yet.</p>
    <% else %>
        <table class="table table-responsive-sm">
            <thead class="thead-dark">
                <tr>
                <th>Date Purchased</th>
                <th>Ticker</th>
                <th>Company</th>
                <th>Price</th>
                <th>Buyer</th>
                <th>Quantity</th>
                <th>Total Cost</th>
                </tr>
            </thead>

            <tbody class="text-white">
                <% @transactions.each do |stock| %>
                <tr>
                    <td><%= stock.created_at.to_formatted_s(:long) %></td>
                    <td><%= stock.ticker %></td>
                    <td><%= stock.company_name %></td>
                    <td><%= number_to_currency(stock.stock_price) %></td>
                    <td class="text-success"><%= stock.buyer.email %></td>
                    <td><%= stock.quantity %></td>
                    <td><%= number_to_currency((stock.quantity).to_i * (stock.stock_price).to_f) %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    <% end %>

    <%= button_to "Back", broker_index_path, {method: 'get', class: "btn btn-sm btn-secondary"} %>
    </div>
  </div>
</div>